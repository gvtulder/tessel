@use "./colors.scss";

.screen.game-setup {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: #bbb;
  overflow: hidden;
  box-shadow: inset 0 0 40px rgb(0 0 0 / 20%);
  display: grid;
  grid-template-areas: "example settings";
  grid-template-columns: 1fr 1fr;
  grid-template-rows: 1fr;
}

.screen.game-setup .example-grid {
  position: relative;
  grid-area: example;
  background: #ddd;
}

.screen.game-setup .game-button.exit {
  position: absolute;
  right: 3vw;
  top: 3vw;
}

.screen.game-setup .game-button.regenerate {
  position: absolute;
  left: 3vw;
  bottom: 3vw;
}

.screen.game-setup .button-row {
  position: relative;
  grid-area: buttons;
  text-align: center;
  width: 100%;
  display: flex;
  align-items: flex-start;
  justify-content: center;
}
.screen.game-setup .game-button.play {
  width: min(8vw, 13vh);
  height: min(8vw, 13vh);
  padding: 10px;
  margin: min(1vw, 1vh);
  border-radius: 100%;
  background: #63851d;
  text-align: center;
  transition: transform 0.1s;
}
.screen.game-setup .game-button.play.disabled {
  background: #999;
  svg {
    fill: #ccc;
  }
}
.screen.game-setup .game-button.play svg {
  display: inline-block;
  fill: #ddd;
  margin: 16% 0 0 9%;
  width: 65%;
  height: 65%;
}
@media (hover) {
  .screen.game-setup .game-button.play:hover {
    transform: scale(1.1);
  }
  .screen.game-setup .game-button.play.disabled:hover {
    transform: none;
  }
  .screen.game-setup .game-button.play:hover svg,
  .screen.game-setup .game-button.play svg:hover {
    fill: #fff;
  }
  .screen.game-setup .game-button.play.disabled:hover svg,
  .screen.game-setup .game-button.play.disabled svg:hover {
    fill: #ccc;
  }
}

.screen.game-setup .settings {
  position: relative;
  grid-area: settings;
  display: grid;
  grid-template-areas:
    "atlas colors"
    "segments rules"
    "other buttons";
  grid-template-columns: min-content auto;
  grid-template-rows: min-content min-content min-content;
  justify-content: center;
  align-content: center;
  margin-top: calc(1.5 * colors.$button-scale);
}
.screen.game-setup .setting-row {
  display: grid;
  grid-template-columns: min-content min-content min-content;
  grid-template-rows: min-content min-content min-content min-content;
  padding: min(8vw, 2vh);

  &.segments.count4,
  &.colors,
  &.rules {
    grid-template-columns: min-content min-content;
  }
}
.screen.game-setup .setting-row:last-child {
  border-bottom: none;
}
.screen.game-setup .setting-row-option {
  margin: 0.4vw;
  width: min(calc(min(37vw) / 5), calc(min(50vh) / 5));
  background: #cacaca;
  border: 3px solid transparent;
  border-radius: 0.7vw;
  box-sizing: border-box;
  aspect-ratio: 1;
  cursor: pointer;
  transition: transform 0.1s;
}
.screen.game-setup .wrap-grid {
  width: 76%;
  height: 76%;
  margin: 12%;
}
.screen.game-setup .setting-row-option.selected {
  transform: scale(1.1);
}
.screen.game-setup .setting-row-option.selected,
.screen.game-setup .setting-row-option.selected:hover {
  border: 3px solid #66f;
  background: #eee;
}
@media (hover) {
  .screen.game-setup .setting-row-option:hover {
    background: #ddd;
  }
}
.screen.game-setup .settings .palette {
  padding: 11%;
}

@media screen and (min-aspect-ratio: 1.5) {
  .screen.game-setup .settings {
    grid-template-areas:
      "atlas colors buttons"
      "segments rules buttons";
    grid-template-columns: min-content auto auto;
    grid-template-rows: min-content min-content;
    margin-right: 2vw;
    margin-top: 0;
  }
  .screen.game-setup .settings .button-row {
    margin-left: calc(0.5 * colors.$button-scale);
    align-items: center;
  }
  .screen.game-setup .setting-row-option {
    width: min(calc(min(37vw) / 5), calc(min(60vh) / 5));
  }
}

@media screen and (min-aspect-ratio: 0.8) and (max-aspect-ratio: 1.1) {
  .screen.game-setup .setting-row {
    grid-template-columns: min-content min-content;
    grid-template-rows: min-content min-content min-content min-content;
  }
  .screen.game-setup .setting-row-option {
    width: calc(45vw / 5);
  }
}

@media screen and (max-aspect-ratio: 0.8) {
  .screen.game-setup {
    grid-template-areas:
      "example example"
      "settings buttons";
    grid-template-columns: max-content auto;
    grid-template-rows: 1fr min-content;
  }
  .screen.game-setup .settings {
    grid-template-areas:
      "atlas colors buttons"
      "segments rules buttons";
    margin: 2vh 0 2vh 1vw;
  }
  .screen.game-setup .settings .button-row {
    margin-left: calc(0.5 * colors.$button-scale);
    align-items: center;
  }
  .screen.game-setup .setting-row {
    padding: 3vw;
  }
  .screen.game-setup .setting-row-option {
    width: calc(55vw / 5);
  }
  .screen.game-setup .game-button.play {
    width: min(12vw, 13vh);
    height: min(12vw, 13vh);
  }
}

@media screen and (max-aspect-ratio: 0.5) {
  .screen.game-setup .settings {
    margin: 1vw;
  }
  .screen.game-setup .setting-row {
    grid-template-columns: min-content min-content;
    grid-template-rows: min-content min-content min-content min-content;
  }
  .screen.game-setup .setting-row-option {
    width: calc(50vw / 4);
  }
}
